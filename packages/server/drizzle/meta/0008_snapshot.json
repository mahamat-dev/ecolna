{
  "id": "2d24880d-632a-4ab2-82f6-faaff10ffcd5",
  "prevId": "ef93d13f-d1d3-46dc-aa9a-2509d0d96544",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.academic_year": {
      "name": "academic_year",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "starts_on": {
          "name": "starts_on",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "ends_on": {
          "name": "ends_on",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "academic_year_code_unique": {
          "name": "academic_year_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.class_section": {
      "name": "class_section",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "grade_level_id": {
          "name": "grade_level_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "room": {
          "name": "room",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "uq_class_section_triple": {
          "name": "uq_class_section_triple",
          "columns": [
            {
              "expression": "academic_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "grade_level_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "class_section_academic_year_id_academic_year_id_fk": {
          "name": "class_section_academic_year_id_academic_year_id_fk",
          "tableFrom": "class_section",
          "tableTo": "academic_year",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_section_grade_level_id_grade_level_id_fk": {
          "name": "class_section_grade_level_id_grade_level_id_fk",
          "tableFrom": "class_section",
          "tableTo": "grade_level",
          "columnsFrom": [
            "grade_level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.class_section_subject": {
      "name": "class_section_subject",
      "schema": "",
      "columns": {
        "class_section_id": {
          "name": "class_section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "class_section_subject_class_section_id_class_section_id_fk": {
          "name": "class_section_subject_class_section_id_class_section_id_fk",
          "tableFrom": "class_section_subject",
          "tableTo": "class_section",
          "columnsFrom": [
            "class_section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "class_section_subject_subject_id_subject_id_fk": {
          "name": "class_section_subject_subject_id_subject_id_fk",
          "tableFrom": "class_section_subject",
          "tableTo": "subject",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_class_section_subject": {
          "name": "pk_class_section_subject",
          "columns": [
            "class_section_id",
            "subject_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.education_stage": {
      "name": "education_stage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "education_stage_code_unique": {
          "name": "education_stage_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.grade_level": {
      "name": "grade_level",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stage_id": {
          "name": "stage_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "uq_grade_level_stage_code": {
          "name": "uq_grade_level_stage_code",
          "columns": [
            {
              "expression": "stage_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "grade_level_stage_id_education_stage_id_fk": {
          "name": "grade_level_stage_id_education_stage_id_fk",
          "tableFrom": "grade_level",
          "tableTo": "education_stage",
          "columnsFrom": [
            "stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subject": {
      "name": "subject",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stage_id": {
          "name": "stage_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "subject_stage_id_education_stage_id_fk": {
          "name": "subject_stage_id_education_stage_id_fk",
          "tableFrom": "subject",
          "tableTo": "education_stage",
          "columnsFrom": [
            "stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "subject_code_unique": {
          "name": "subject_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.term": {
      "name": "term",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "starts_on": {
          "name": "starts_on",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "ends_on": {
          "name": "ends_on",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "uq_term_year_name": {
          "name": "uq_term_year_name",
          "columns": [
            {
              "expression": "academic_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "term_academic_year_id_academic_year_id_fk": {
          "name": "term_academic_year_id_academic_year_id_fk",
          "tableFrom": "term",
          "tableTo": "academic_year",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.attempt_answer": {
      "name": "attempt_answer",
      "schema": "",
      "columns": {
        "attempt_id": {
          "name": "attempt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "question_id": {
          "name": "question_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "selected_option_ids": {
          "name": "selected_option_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "is_correct": {
          "name": "is_correct",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "score": {
          "name": "score",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "answered_at": {
          "name": "answered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "attempt_answer_attempt_id_quiz_attempt_id_fk": {
          "name": "attempt_answer_attempt_id_quiz_attempt_id_fk",
          "tableFrom": "attempt_answer",
          "tableTo": "quiz_attempt",
          "columnsFrom": [
            "attempt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "attempt_answer_question_id_question_id_fk": {
          "name": "attempt_answer_question_id_question_id_fk",
          "tableFrom": "attempt_answer",
          "tableTo": "question",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_attempt_answer": {
          "name": "pk_attempt_answer",
          "columns": [
            "attempt_id",
            "question_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.attempt_question": {
      "name": "attempt_question",
      "schema": "",
      "columns": {
        "attempt_id": {
          "name": "attempt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "question_id": {
          "name": "question_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "option_order": {
          "name": "option_order",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "points": {
          "name": "points",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "attempt_question_attempt_id_quiz_attempt_id_fk": {
          "name": "attempt_question_attempt_id_quiz_attempt_id_fk",
          "tableFrom": "attempt_question",
          "tableTo": "quiz_attempt",
          "columnsFrom": [
            "attempt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "attempt_question_question_id_question_id_fk": {
          "name": "attempt_question_question_id_question_id_fk",
          "tableFrom": "attempt_question",
          "tableTo": "question",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_attempt_question": {
          "name": "pk_attempt_question",
          "columns": [
            "attempt_id",
            "question_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.question": {
      "name": "question",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "type": {
          "name": "type",
          "type": "question_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_profile_id": {
          "name": "created_by_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "question_subject_id_subject_id_fk": {
          "name": "question_subject_id_subject_id_fk",
          "tableFrom": "question",
          "tableTo": "subject",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "question_created_by_profile_id_profiles_id_fk": {
          "name": "question_created_by_profile_id_profiles_id_fk",
          "tableFrom": "question",
          "tableTo": "profiles",
          "columnsFrom": [
            "created_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.question_option": {
      "name": "question_option",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "question_id": {
          "name": "question_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_correct": {
          "name": "is_correct",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "weight": {
          "name": "weight",
          "type": "numeric(6, 3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "question_option_question_id_question_id_fk": {
          "name": "question_option_question_id_question_id_fk",
          "tableFrom": "question_option",
          "tableTo": "question",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.question_option_translation": {
      "name": "question_option_translation",
      "schema": "",
      "columns": {
        "option_id": {
          "name": "option_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "locale": {
          "name": "locale",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "question_option_translation_option_id_question_option_id_fk": {
          "name": "question_option_translation_option_id_question_option_id_fk",
          "tableFrom": "question_option_translation",
          "tableTo": "question_option",
          "columnsFrom": [
            "option_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_question_option_translation": {
          "name": "pk_question_option_translation",
          "columns": [
            "option_id",
            "locale"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.question_translation": {
      "name": "question_translation",
      "schema": "",
      "columns": {
        "question_id": {
          "name": "question_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "locale": {
          "name": "locale",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": true
        },
        "stem_md": {
          "name": "stem_md",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "explanation_md": {
          "name": "explanation_md",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "question_translation_question_id_question_id_fk": {
          "name": "question_translation_question_id_question_id_fk",
          "tableFrom": "question_translation",
          "tableTo": "question",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_question_translation": {
          "name": "pk_question_translation",
          "columns": [
            "question_id",
            "locale"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quiz": {
      "name": "quiz",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "created_by_profile_id": {
          "name": "created_by_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "quiz_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'DRAFT'"
        },
        "time_limit_sec": {
          "name": "time_limit_sec",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "shuffle_questions": {
          "name": "shuffle_questions",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "shuffle_options": {
          "name": "shuffle_options",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "open_at": {
          "name": "open_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "close_at": {
          "name": "close_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quiz_created_by_profile_id_profiles_id_fk": {
          "name": "quiz_created_by_profile_id_profiles_id_fk",
          "tableFrom": "quiz",
          "tableTo": "profiles",
          "columnsFrom": [
            "created_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "quiz_subject_id_subject_id_fk": {
          "name": "quiz_subject_id_subject_id_fk",
          "tableFrom": "quiz",
          "tableTo": "subject",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quiz_attempt": {
      "name": "quiz_attempt",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "quiz_id": {
          "name": "quiz_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "student_profile_id": {
          "name": "student_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "attempt_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'CREATED'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "score": {
          "name": "score",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_score": {
          "name": "max_score",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "time_limit_sec": {
          "name": "time_limit_sec",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "seed": {
          "name": "seed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ip": {
          "name": "ip",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quiz_attempt_quiz_id_quiz_id_fk": {
          "name": "quiz_attempt_quiz_id_quiz_id_fk",
          "tableFrom": "quiz_attempt",
          "tableTo": "quiz",
          "columnsFrom": [
            "quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "quiz_attempt_student_profile_id_profiles_id_fk": {
          "name": "quiz_attempt_student_profile_id_profiles_id_fk",
          "tableFrom": "quiz_attempt",
          "tableTo": "profiles",
          "columnsFrom": [
            "student_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quiz_audience": {
      "name": "quiz_audience",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "quiz_id": {
          "name": "quiz_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "quiz_audience_scope",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "grade_level_id": {
          "name": "grade_level_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "class_section_id": {
          "name": "class_section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quiz_audience_quiz_id_quiz_id_fk": {
          "name": "quiz_audience_quiz_id_quiz_id_fk",
          "tableFrom": "quiz_audience",
          "tableTo": "quiz",
          "columnsFrom": [
            "quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "quiz_audience_grade_level_id_grade_level_id_fk": {
          "name": "quiz_audience_grade_level_id_grade_level_id_fk",
          "tableFrom": "quiz_audience",
          "tableTo": "grade_level",
          "columnsFrom": [
            "grade_level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "quiz_audience_class_section_id_class_section_id_fk": {
          "name": "quiz_audience_class_section_id_class_section_id_fk",
          "tableFrom": "quiz_audience",
          "tableTo": "class_section",
          "columnsFrom": [
            "class_section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "quiz_audience_subject_id_subject_id_fk": {
          "name": "quiz_audience_subject_id_subject_id_fk",
          "tableFrom": "quiz_audience",
          "tableTo": "subject",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quiz_question": {
      "name": "quiz_question",
      "schema": "",
      "columns": {
        "quiz_id": {
          "name": "quiz_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "question_id": {
          "name": "question_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "points": {
          "name": "points",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quiz_question_quiz_id_quiz_id_fk": {
          "name": "quiz_question_quiz_id_quiz_id_fk",
          "tableFrom": "quiz_question",
          "tableTo": "quiz",
          "columnsFrom": [
            "quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "quiz_question_question_id_question_id_fk": {
          "name": "quiz_question_question_id_question_id_fk",
          "tableFrom": "quiz_question",
          "tableTo": "question",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_quiz_question": {
          "name": "pk_quiz_question",
          "columns": [
            "quiz_id",
            "question_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quiz_translation": {
      "name": "quiz_translation",
      "schema": "",
      "columns": {
        "quiz_id": {
          "name": "quiz_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "locale": {
          "name": "locale",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description_md": {
          "name": "description_md",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quiz_translation_quiz_id_quiz_id_fk": {
          "name": "quiz_translation_quiz_id_quiz_id_fk",
          "tableFrom": "quiz_translation",
          "tableTo": "quiz",
          "columnsFrom": [
            "quiz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_quiz_translation": {
          "name": "pk_quiz_translation",
          "columns": [
            "quiz_id",
            "locale"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.attendance_record": {
      "name": "attendance_record",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "attendance_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "minutes_late": {
          "name": "minutes_late",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "attendance_record_session_id_attendance_session_id_fk": {
          "name": "attendance_record_session_id_attendance_session_id_fk",
          "tableFrom": "attendance_record",
          "tableTo": "attendance_session",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "attendance_record_enrollment_id_enrollment_id_fk": {
          "name": "attendance_record_enrollment_id_enrollment_id_fk",
          "tableFrom": "attendance_record",
          "tableTo": "enrollment",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_attendance_record": {
          "name": "pk_attendance_record",
          "columns": [
            "session_id",
            "enrollment_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.attendance_session": {
      "name": "attendance_session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "class_section_id": {
          "name": "class_section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "term_id": {
          "name": "term_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "starts_at": {
          "name": "starts_at",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "taken_by_profile_id": {
          "name": "taken_by_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_finalized": {
          "name": "is_finalized",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "attendance_session_class_section_id_class_section_id_fk": {
          "name": "attendance_session_class_section_id_class_section_id_fk",
          "tableFrom": "attendance_session",
          "tableTo": "class_section",
          "columnsFrom": [
            "class_section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "attendance_session_subject_id_subject_id_fk": {
          "name": "attendance_session_subject_id_subject_id_fk",
          "tableFrom": "attendance_session",
          "tableTo": "subject",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "attendance_session_academic_year_id_academic_year_id_fk": {
          "name": "attendance_session_academic_year_id_academic_year_id_fk",
          "tableFrom": "attendance_session",
          "tableTo": "academic_year",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "attendance_session_term_id_term_id_fk": {
          "name": "attendance_session_term_id_term_id_fk",
          "tableFrom": "attendance_session",
          "tableTo": "term",
          "columnsFrom": [
            "term_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "attendance_session_taken_by_profile_id_profiles_id_fk": {
          "name": "attendance_session_taken_by_profile_id_profiles_id_fk",
          "tableFrom": "attendance_session",
          "tableTo": "profiles",
          "columnsFrom": [
            "taken_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_log": {
      "name": "audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "at": {
          "name": "at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "actor_roles": {
          "name": "actor_roles",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "ip": {
          "name": "ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "actor_profile_id": {
          "name": "actor_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_log_actor_user_id_users_id_fk": {
          "name": "audit_log_actor_user_id_users_id_fk",
          "tableFrom": "audit_log",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "audit_log_actor_profile_id_profiles_id_fk": {
          "name": "audit_log_actor_profile_id_profiles_id_fk",
          "tableFrom": "audit_log",
          "tableTo": "profiles",
          "columnsFrom": [
            "actor_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.file_object": {
      "name": "file_object",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "storage_key": {
          "name": "storage_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mime": {
          "name": "mime",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sha256": {
          "name": "sha256",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by_profile_id": {
          "name": "uploaded_by_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "file_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'PENDING'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ready_at": {
          "name": "ready_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "file_object_uploaded_by_profile_id_profiles_id_fk": {
          "name": "file_object_uploaded_by_profile_id_profiles_id_fk",
          "tableFrom": "file_object",
          "tableTo": "profiles",
          "columnsFrom": [
            "uploaded_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "file_object_storage_key_unique": {
          "name": "file_object_storage_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "storage_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.note": {
      "name": "note",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "created_by_profile_id": {
          "name": "created_by_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "term_id": {
          "name": "term_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "pin_until": {
          "name": "pin_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "note_created_by_profile_id_profiles_id_fk": {
          "name": "note_created_by_profile_id_profiles_id_fk",
          "tableFrom": "note",
          "tableTo": "profiles",
          "columnsFrom": [
            "created_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "note_academic_year_id_academic_year_id_fk": {
          "name": "note_academic_year_id_academic_year_id_fk",
          "tableFrom": "note",
          "tableTo": "academic_year",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "note_term_id_term_id_fk": {
          "name": "note_term_id_term_id_fk",
          "tableFrom": "note",
          "tableTo": "term",
          "columnsFrom": [
            "term_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.note_attachment": {
      "name": "note_attachment",
      "schema": "",
      "columns": {
        "note_id": {
          "name": "note_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "note_attachment_note_id_note_id_fk": {
          "name": "note_attachment_note_id_note_id_fk",
          "tableFrom": "note_attachment",
          "tableTo": "note",
          "columnsFrom": [
            "note_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "note_attachment_file_id_file_object_id_fk": {
          "name": "note_attachment_file_id_file_object_id_fk",
          "tableFrom": "note_attachment",
          "tableTo": "file_object",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_note_attachment": {
          "name": "pk_note_attachment",
          "columns": [
            "note_id",
            "file_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.note_audience": {
      "name": "note_audience",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "note_id": {
          "name": "note_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "note_audience_scope",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stage_id": {
          "name": "stage_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "grade_level_id": {
          "name": "grade_level_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "class_section_id": {
          "name": "class_section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "student_profile_id": {
          "name": "student_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "guardian_profile_id": {
          "name": "guardian_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "note_audience_note_id_note_id_fk": {
          "name": "note_audience_note_id_note_id_fk",
          "tableFrom": "note_audience",
          "tableTo": "note",
          "columnsFrom": [
            "note_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "note_audience_grade_level_id_grade_level_id_fk": {
          "name": "note_audience_grade_level_id_grade_level_id_fk",
          "tableFrom": "note_audience",
          "tableTo": "grade_level",
          "columnsFrom": [
            "grade_level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "note_audience_class_section_id_class_section_id_fk": {
          "name": "note_audience_class_section_id_class_section_id_fk",
          "tableFrom": "note_audience",
          "tableTo": "class_section",
          "columnsFrom": [
            "class_section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "note_audience_subject_id_subject_id_fk": {
          "name": "note_audience_subject_id_subject_id_fk",
          "tableFrom": "note_audience",
          "tableTo": "subject",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "note_audience_student_profile_id_profiles_id_fk": {
          "name": "note_audience_student_profile_id_profiles_id_fk",
          "tableFrom": "note_audience",
          "tableTo": "profiles",
          "columnsFrom": [
            "student_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "note_audience_guardian_profile_id_profiles_id_fk": {
          "name": "note_audience_guardian_profile_id_profiles_id_fk",
          "tableFrom": "note_audience",
          "tableTo": "profiles",
          "columnsFrom": [
            "guardian_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.note_read": {
      "name": "note_read",
      "schema": "",
      "columns": {
        "note_id": {
          "name": "note_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "note_read_note_id_note_id_fk": {
          "name": "note_read_note_id_note_id_fk",
          "tableFrom": "note_read",
          "tableTo": "note",
          "columnsFrom": [
            "note_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "note_read_profile_id_profiles_id_fk": {
          "name": "note_read_profile_id_profiles_id_fk",
          "tableFrom": "note_read",
          "tableTo": "profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_note_read": {
          "name": "pk_note_read",
          "columns": [
            "note_id",
            "profile_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.note_translation": {
      "name": "note_translation",
      "schema": "",
      "columns": {
        "note_id": {
          "name": "note_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "locale": {
          "name": "locale",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body_md": {
          "name": "body_md",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "note_translation_note_id_note_id_fk": {
          "name": "note_translation_note_id_note_id_fk",
          "tableFrom": "note_translation",
          "tableTo": "note",
          "columnsFrom": [
            "note_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_note_translation": {
          "name": "pk_note_translation",
          "columns": [
            "note_id",
            "locale"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detention_session": {
      "name": "detention_session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "date_time": {
          "name": "date_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "room": {
          "name": "room",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "created_by_profile_id": {
          "name": "created_by_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "detention_session_created_by_profile_id_profiles_id_fk": {
          "name": "detention_session_created_by_profile_id_profiles_id_fk",
          "tableFrom": "detention_session",
          "tableTo": "profiles",
          "columnsFrom": [
            "created_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detention_session_attendance": {
      "name": "detention_session_attendance",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "student_profile_id": {
          "name": "student_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "present": {
          "name": "present",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "detention_session_attendance_session_id_detention_session_id_fk": {
          "name": "detention_session_attendance_session_id_detention_session_id_fk",
          "tableFrom": "detention_session_attendance",
          "tableTo": "detention_session",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "detention_session_attendance_student_profile_id_profiles_id_fk": {
          "name": "detention_session_attendance_student_profile_id_profiles_id_fk",
          "tableFrom": "detention_session_attendance",
          "tableTo": "profiles",
          "columnsFrom": [
            "student_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_detention_session_attendance": {
          "name": "pk_detention_session_attendance",
          "columns": [
            "session_id",
            "student_profile_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detention_session_enrollment": {
      "name": "detention_session_enrollment",
      "schema": "",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action_id": {
          "name": "action_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "student_profile_id": {
          "name": "student_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "detention_session_enrollment_session_id_detention_session_id_fk": {
          "name": "detention_session_enrollment_session_id_detention_session_id_fk",
          "tableFrom": "detention_session_enrollment",
          "tableTo": "detention_session",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "detention_session_enrollment_action_id_discipline_action_id_fk": {
          "name": "detention_session_enrollment_action_id_discipline_action_id_fk",
          "tableFrom": "detention_session_enrollment",
          "tableTo": "discipline_action",
          "columnsFrom": [
            "action_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "detention_session_enrollment_student_profile_id_profiles_id_fk": {
          "name": "detention_session_enrollment_student_profile_id_profiles_id_fk",
          "tableFrom": "detention_session_enrollment",
          "tableTo": "profiles",
          "columnsFrom": [
            "student_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_detention_session_enrollment": {
          "name": "pk_detention_session_enrollment",
          "columns": [
            "session_id",
            "action_id",
            "student_profile_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.discipline_action": {
      "name": "discipline_action",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "incident_id": {
          "name": "incident_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "discipline_action_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "points": {
          "name": "points",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "discipline_action_incident_id_discipline_incident_id_fk": {
          "name": "discipline_action_incident_id_discipline_incident_id_fk",
          "tableFrom": "discipline_action",
          "tableTo": "discipline_incident",
          "columnsFrom": [
            "incident_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "discipline_action_profile_id_profiles_id_fk": {
          "name": "discipline_action_profile_id_profiles_id_fk",
          "tableFrom": "discipline_action",
          "tableTo": "profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.discipline_category": {
      "name": "discipline_category",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "default_points": {
          "name": "default_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "discipline_category_code_unique": {
          "name": "discipline_category_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.discipline_category_translation": {
      "name": "discipline_category_translation",
      "schema": "",
      "columns": {
        "category_id": {
          "name": "category_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "locale": {
          "name": "locale",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "discipline_category_translation_category_id_discipline_category_id_fk": {
          "name": "discipline_category_translation_category_id_discipline_category_id_fk",
          "tableFrom": "discipline_category_translation",
          "tableTo": "discipline_category",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_discipline_category_translation": {
          "name": "pk_discipline_category_translation",
          "columns": [
            "category_id",
            "locale"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.discipline_incident": {
      "name": "discipline_incident",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "category_id": {
          "name": "category_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "discipline_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'OPEN'"
        },
        "visibility": {
          "name": "visibility",
          "type": "discipline_visibility",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'PRIVATE'"
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "reported_by_profile_id": {
          "name": "reported_by_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "class_section_id": {
          "name": "class_section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "discipline_incident_category_id_discipline_category_id_fk": {
          "name": "discipline_incident_category_id_discipline_category_id_fk",
          "tableFrom": "discipline_incident",
          "tableTo": "discipline_category",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "discipline_incident_reported_by_profile_id_profiles_id_fk": {
          "name": "discipline_incident_reported_by_profile_id_profiles_id_fk",
          "tableFrom": "discipline_incident",
          "tableTo": "profiles",
          "columnsFrom": [
            "reported_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "discipline_incident_class_section_id_class_section_id_fk": {
          "name": "discipline_incident_class_section_id_class_section_id_fk",
          "tableFrom": "discipline_incident",
          "tableTo": "class_section",
          "columnsFrom": [
            "class_section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.discipline_incident_attachment": {
      "name": "discipline_incident_attachment",
      "schema": "",
      "columns": {
        "incident_id": {
          "name": "incident_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "discipline_incident_attachment_incident_id_discipline_incident_id_fk": {
          "name": "discipline_incident_attachment_incident_id_discipline_incident_id_fk",
          "tableFrom": "discipline_incident_attachment",
          "tableTo": "discipline_incident",
          "columnsFrom": [
            "incident_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "discipline_incident_attachment_file_id_file_object_id_fk": {
          "name": "discipline_incident_attachment_file_id_file_object_id_fk",
          "tableFrom": "discipline_incident_attachment",
          "tableTo": "file_object",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_discipline_incident_attachment": {
          "name": "pk_discipline_incident_attachment",
          "columns": [
            "incident_id",
            "file_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.discipline_incident_participant": {
      "name": "discipline_incident_participant",
      "schema": "",
      "columns": {
        "incident_id": {
          "name": "incident_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "profile_id": {
          "name": "profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "discipline_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "discipline_incident_participant_incident_id_discipline_incident_id_fk": {
          "name": "discipline_incident_participant_incident_id_discipline_incident_id_fk",
          "tableFrom": "discipline_incident_participant",
          "tableTo": "discipline_incident",
          "columnsFrom": [
            "incident_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "discipline_incident_participant_profile_id_profiles_id_fk": {
          "name": "discipline_incident_participant_profile_id_profiles_id_fk",
          "tableFrom": "discipline_incident_participant",
          "tableTo": "profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pk_discipline_incident_participant": {
          "name": "pk_discipline_incident_participant",
          "columns": [
            "incident_id",
            "profile_id",
            "role"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.enrollment": {
      "name": "enrollment",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_profile_id": {
          "name": "student_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "class_section_id": {
          "name": "class_section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "enrollment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'ACTIVE'"
        },
        "joined_on": {
          "name": "joined_on",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "exited_on": {
          "name": "exited_on",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "exit_reason": {
          "name": "exit_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "roll_no": {
          "name": "roll_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "uq_enrollment_student_year": {
          "name": "uq_enrollment_student_year",
          "columns": [
            {
              "expression": "student_profile_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "academic_year_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uq_enrollment_student_section": {
          "name": "uq_enrollment_student_section",
          "columns": [
            {
              "expression": "student_profile_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "class_section_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uq_roll_in_section": {
          "name": "uq_roll_in_section",
          "columns": [
            {
              "expression": "class_section_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "roll_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "enrollment_student_profile_id_profiles_id_fk": {
          "name": "enrollment_student_profile_id_profiles_id_fk",
          "tableFrom": "enrollment",
          "tableTo": "profiles",
          "columnsFrom": [
            "student_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "enrollment_class_section_id_class_section_id_fk": {
          "name": "enrollment_class_section_id_class_section_id_fk",
          "tableFrom": "enrollment",
          "tableTo": "class_section",
          "columnsFrom": [
            "class_section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "enrollment_academic_year_id_academic_year_id_fk": {
          "name": "enrollment_academic_year_id_academic_year_id_fk",
          "tableFrom": "enrollment",
          "tableTo": "academic_year",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.guardian_student": {
      "name": "guardian_student",
      "schema": "",
      "columns": {
        "guardian_profile_id": {
          "name": "guardian_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "student_profile_id": {
          "name": "student_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "link_type": {
          "name": "link_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "guardian_student_guardian_profile_id_profiles_id_fk": {
          "name": "guardian_student_guardian_profile_id_profiles_id_fk",
          "tableFrom": "guardian_student",
          "tableTo": "profiles",
          "columnsFrom": [
            "guardian_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "guardian_student_student_profile_id_profiles_id_fk": {
          "name": "guardian_student_student_profile_id_profiles_id_fk",
          "tableFrom": "guardian_student",
          "tableTo": "profiles",
          "columnsFrom": [
            "student_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.advance": {
      "name": "advance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "requester_profile_id": {
          "name": "requester_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'REQUESTED'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "approved_by_profile_id": {
          "name": "approved_by_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "repaid_cents": {
          "name": "repaid_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "advance_requester_profile_id_profiles_id_fk": {
          "name": "advance_requester_profile_id_profiles_id_fk",
          "tableFrom": "advance",
          "tableTo": "profiles",
          "columnsFrom": [
            "requester_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "advance_approved_by_profile_id_profiles_id_fk": {
          "name": "advance_approved_by_profile_id_profiles_id_fk",
          "tableFrom": "advance",
          "tableTo": "profiles",
          "columnsFrom": [
            "approved_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fee_schedule": {
      "name": "fee_schedule",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'XAF'"
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "grade_level_id": {
          "name": "grade_level_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fee_schedule_academic_year_id_academic_year_id_fk": {
          "name": "fee_schedule_academic_year_id_academic_year_id_fk",
          "tableFrom": "fee_schedule",
          "tableTo": "academic_year",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "fee_schedule_grade_level_id_grade_level_id_fk": {
          "name": "fee_schedule_grade_level_id_grade_level_id_fk",
          "tableFrom": "fee_schedule",
          "tableTo": "grade_level",
          "columnsFrom": [
            "grade_level_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fee_schedule_code_unique": {
          "name": "fee_schedule_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.invoice": {
      "name": "invoice",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_profile_id": {
          "name": "student_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "total_cents": {
          "name": "total_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'XAF'"
        },
        "status": {
          "name": "status",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'DRAFT'"
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_profile_id": {
          "name": "created_by_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "invoice_student_profile_id_profiles_id_fk": {
          "name": "invoice_student_profile_id_profiles_id_fk",
          "tableFrom": "invoice",
          "tableTo": "profiles",
          "columnsFrom": [
            "student_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invoice_created_by_profile_id_profiles_id_fk": {
          "name": "invoice_created_by_profile_id_profiles_id_fk",
          "tableFrom": "invoice",
          "tableTo": "profiles",
          "columnsFrom": [
            "created_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.invoice_line": {
      "name": "invoice_line",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "schedule_id": {
          "name": "schedule_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "invoice_line_invoice_id_invoice_id_fk": {
          "name": "invoice_line_invoice_id_invoice_id_fk",
          "tableFrom": "invoice_line",
          "tableTo": "invoice",
          "columnsFrom": [
            "invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invoice_line_schedule_id_fee_schedule_id_fk": {
          "name": "invoice_line_schedule_id_fee_schedule_id_fk",
          "tableFrom": "invoice_line",
          "tableTo": "fee_schedule",
          "columnsFrom": [
            "schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment": {
      "name": "payment",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "student_profile_id": {
          "name": "student_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "method": {
          "name": "method",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "default": "'CASH'"
        },
        "reference": {
          "name": "reference",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by_profile_id": {
          "name": "created_by_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "payment_invoice_id_invoice_id_fk": {
          "name": "payment_invoice_id_invoice_id_fk",
          "tableFrom": "payment",
          "tableTo": "invoice",
          "columnsFrom": [
            "invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_student_profile_id_profiles_id_fk": {
          "name": "payment_student_profile_id_profiles_id_fk",
          "tableFrom": "payment",
          "tableTo": "profiles",
          "columnsFrom": [
            "student_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_created_by_profile_id_profiles_id_fk": {
          "name": "payment_created_by_profile_id_profiles_id_fk",
          "tableFrom": "payment",
          "tableTo": "profiles",
          "columnsFrom": [
            "created_by_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payroll_item": {
      "name": "payroll_item",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "period_id": {
          "name": "period_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "staff_profile_id": {
          "name": "staff_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "gross_cents": {
          "name": "gross_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "allowances_cents": {
          "name": "allowances_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "deductions_cents": {
          "name": "deductions_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_cents": {
          "name": "net_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'DRAFT'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "payroll_item_period_id_payroll_period_id_fk": {
          "name": "payroll_item_period_id_payroll_period_id_fk",
          "tableFrom": "payroll_item",
          "tableTo": "payroll_period",
          "columnsFrom": [
            "period_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payroll_item_staff_profile_id_profiles_id_fk": {
          "name": "payroll_item_staff_profile_id_profiles_id_fk",
          "tableFrom": "payroll_item",
          "tableTo": "profiles",
          "columnsFrom": [
            "staff_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payroll_period": {
      "name": "payroll_period",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "pay_date": {
          "name": "pay_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'OPEN'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "payroll_period_code_unique": {
          "name": "payroll_period_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_fee": {
      "name": "student_fee",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_profile_id": {
          "name": "student_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "schedule_id": {
          "name": "schedule_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount_cents": {
          "name": "amount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_cents": {
          "name": "discount_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "default": "'PENDING'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "student_fee_student_profile_id_profiles_id_fk": {
          "name": "student_fee_student_profile_id_profiles_id_fk",
          "tableFrom": "student_fee",
          "tableTo": "profiles",
          "columnsFrom": [
            "student_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_fee_schedule_id_fee_schedule_id_fk": {
          "name": "student_fee_schedule_id_fee_schedule_id_fk",
          "tableFrom": "student_fee",
          "tableTo": "fee_schedule",
          "columnsFrom": [
            "schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.guardian": {
      "name": "guardian",
      "schema": "",
      "columns": {
        "profile_id": {
          "name": "profile_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "relationship": {
          "name": "relationship",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "guardian_profile_id_profiles_id_fk": {
          "name": "guardian_profile_id_profiles_id_fk",
          "tableFrom": "guardian",
          "tableTo": "profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.profiles": {
      "name": "profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dob": {
          "name": "dob",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "photo_url": {
          "name": "photo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'TD'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "profiles_user_id_users_id_fk": {
          "name": "profiles_user_id_users_id_fk",
          "tableFrom": "profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "profiles_user_id_unique": {
          "name": "profiles_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.staff": {
      "name": "staff",
      "schema": "",
      "columns": {
        "profile_id": {
          "name": "profile_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "staff_no": {
          "name": "staff_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "position": {
          "name": "position",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "staff_profile_id_profiles_id_fk": {
          "name": "staff_profile_id_profiles_id_fk",
          "tableFrom": "staff",
          "tableTo": "profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "staff_staff_no_unique": {
          "name": "staff_staff_no_unique",
          "nullsNotDistinct": false,
          "columns": [
            "staff_no"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student": {
      "name": "student",
      "schema": "",
      "columns": {
        "profile_id": {
          "name": "profile_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "admission_no": {
          "name": "admission_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "student_profile_id_profiles_id_fk": {
          "name": "student_profile_id_profiles_id_fk",
          "tableFrom": "student",
          "tableTo": "profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "student_admission_no_unique": {
          "name": "student_admission_no_unique",
          "nullsNotDistinct": false,
          "columns": [
            "admission_no"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_roles": {
      "name": "user_roles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_roles_user_id_users_id_fk": {
          "name": "user_roles_user_id_users_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "login_id": {
          "name": "login_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auth_method": {
          "name": "auth_method",
          "type": "auth_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'LOGIN_ID'"
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "failed_logins": {
          "name": "failed_logins",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "locked_until": {
          "name": "locked_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "secret_updated_at": {
          "name": "secret_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_login_id_unique": {
          "name": "users_login_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "login_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message": {
      "name": "message",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "sender_profile_id": {
          "name": "sender_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "message_sender_profile_id_profiles_id_fk": {
          "name": "message_sender_profile_id_profiles_id_fk",
          "tableFrom": "message",
          "tableTo": "profiles",
          "columnsFrom": [
            "sender_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_recipient": {
      "name": "message_recipient",
      "schema": "",
      "columns": {
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_profile_id": {
          "name": "recipient_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted": {
          "name": "deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "message_recipient_message_id_message_id_fk": {
          "name": "message_recipient_message_id_message_id_fk",
          "tableFrom": "message_recipient",
          "tableTo": "message",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_recipient_recipient_profile_id_profiles_id_fk": {
          "name": "message_recipient_recipient_profile_id_profiles_id_fk",
          "tableFrom": "message_recipient",
          "tableTo": "profiles",
          "columnsFrom": [
            "recipient_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teaching_assignment": {
      "name": "teaching_assignment",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "teacher_profile_id": {
          "name": "teacher_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "class_section_id": {
          "name": "class_section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "academic_year_id": {
          "name": "academic_year_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "term_id": {
          "name": "term_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_lead": {
          "name": "is_lead",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_homeroom": {
          "name": "is_homeroom",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "hours_per_week": {
          "name": "hours_per_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "teaching_assignment_teacher_profile_id_profiles_id_fk": {
          "name": "teaching_assignment_teacher_profile_id_profiles_id_fk",
          "tableFrom": "teaching_assignment",
          "tableTo": "profiles",
          "columnsFrom": [
            "teacher_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "teaching_assignment_class_section_id_class_section_id_fk": {
          "name": "teaching_assignment_class_section_id_class_section_id_fk",
          "tableFrom": "teaching_assignment",
          "tableTo": "class_section",
          "columnsFrom": [
            "class_section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "teaching_assignment_subject_id_subject_id_fk": {
          "name": "teaching_assignment_subject_id_subject_id_fk",
          "tableFrom": "teaching_assignment",
          "tableTo": "subject",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "teaching_assignment_academic_year_id_academic_year_id_fk": {
          "name": "teaching_assignment_academic_year_id_academic_year_id_fk",
          "tableFrom": "teaching_assignment",
          "tableTo": "academic_year",
          "columnsFrom": [
            "academic_year_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "teaching_assignment_term_id_term_id_fk": {
          "name": "teaching_assignment_term_id_term_id_fk",
          "tableFrom": "teaching_assignment",
          "tableTo": "term",
          "columnsFrom": [
            "term_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.timetable_exception": {
      "name": "timetable_exception",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "class_section_id": {
          "name": "class_section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "canceled": {
          "name": "canceled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "timetable_exception_class_section_id_class_section_id_fk": {
          "name": "timetable_exception_class_section_id_class_section_id_fk",
          "tableFrom": "timetable_exception",
          "tableTo": "class_section",
          "columnsFrom": [
            "class_section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.timetable_period": {
      "name": "timetable_period",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "label": {
          "name": "label",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "starts_at": {
          "name": "starts_at",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.timetable_slot": {
      "name": "timetable_slot",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "class_section_id": {
          "name": "class_section_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "teacher_profile_id": {
          "name": "teacher_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "period_id": {
          "name": "period_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "room": {
          "name": "room",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "valid_to": {
          "name": "valid_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "timetable_slot_class_section_id_class_section_id_fk": {
          "name": "timetable_slot_class_section_id_class_section_id_fk",
          "tableFrom": "timetable_slot",
          "tableTo": "class_section",
          "columnsFrom": [
            "class_section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "timetable_slot_subject_id_subject_id_fk": {
          "name": "timetable_slot_subject_id_subject_id_fk",
          "tableFrom": "timetable_slot",
          "tableTo": "subject",
          "columnsFrom": [
            "subject_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "timetable_slot_teacher_profile_id_profiles_id_fk": {
          "name": "timetable_slot_teacher_profile_id_profiles_id_fk",
          "tableFrom": "timetable_slot",
          "tableTo": "profiles",
          "columnsFrom": [
            "teacher_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "timetable_slot_period_id_timetable_period_id_fk": {
          "name": "timetable_slot_period_id_timetable_period_id_fk",
          "tableFrom": "timetable_slot",
          "tableTo": "timetable_period",
          "columnsFrom": [
            "period_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.attempt_status": {
      "name": "attempt_status",
      "schema": "public",
      "values": [
        "CREATED",
        "IN_PROGRESS",
        "SUBMITTED",
        "GRADED"
      ]
    },
    "public.question_type": {
      "name": "question_type",
      "schema": "public",
      "values": [
        "MCQ_SINGLE",
        "MCQ_MULTI",
        "TRUE_FALSE"
      ]
    },
    "public.quiz_audience_scope": {
      "name": "quiz_audience_scope",
      "schema": "public",
      "values": [
        "ALL",
        "GRADE_LEVEL",
        "CLASS_SECTION",
        "SUBJECT"
      ]
    },
    "public.quiz_status": {
      "name": "quiz_status",
      "schema": "public",
      "values": [
        "DRAFT",
        "PUBLISHED",
        "CLOSED"
      ]
    },
    "public.attendance_status": {
      "name": "attendance_status",
      "schema": "public",
      "values": [
        "PRESENT",
        "ABSENT",
        "LATE",
        "EXCUSED"
      ]
    },
    "public.audit_action": {
      "name": "audit_action",
      "schema": "public",
      "values": [
        "CREATE",
        "UPDATE",
        "DELETE",
        "ENROLL",
        "TRANSFER",
        "WITHDRAW",
        "GRADUATE",
        "LINK_GUARDIAN",
        "UNLINK_GUARDIAN"
      ]
    },
    "public.note_audience_scope": {
      "name": "note_audience_scope",
      "schema": "public",
      "values": [
        "ALL",
        "ROLE",
        "STAGE",
        "GRADE_LEVEL",
        "CLASS_SECTION",
        "SUBJECT",
        "STUDENT",
        "GUARDIAN"
      ]
    },
    "public.file_status": {
      "name": "file_status",
      "schema": "public",
      "values": [
        "PENDING",
        "READY",
        "DELETED"
      ]
    },
    "public.discipline_action_type": {
      "name": "discipline_action_type",
      "schema": "public",
      "values": [
        "WARNING",
        "DETENTION",
        "SUSPENSION_IN_SCHOOL",
        "SUSPENSION_OUT_OF_SCHOOL",
        "PARENT_MEETING",
        "COMMUNITY_SERVICE"
      ]
    },
    "public.discipline_role": {
      "name": "discipline_role",
      "schema": "public",
      "values": [
        "PERPETRATOR",
        "VICTIM",
        "WITNESS"
      ]
    },
    "public.discipline_status": {
      "name": "discipline_status",
      "schema": "public",
      "values": [
        "OPEN",
        "UNDER_REVIEW",
        "RESOLVED",
        "CANCELLED"
      ]
    },
    "public.discipline_visibility": {
      "name": "discipline_visibility",
      "schema": "public",
      "values": [
        "PRIVATE",
        "STUDENT",
        "GUARDIAN"
      ]
    },
    "public.enrollment_status": {
      "name": "enrollment_status",
      "schema": "public",
      "values": [
        "ACTIVE",
        "TRANSFERRED_OUT",
        "WITHDRAWN",
        "GRADUATED"
      ]
    },
    "public.auth_method": {
      "name": "auth_method",
      "schema": "public",
      "values": [
        "EMAIL",
        "LOGIN_ID"
      ]
    },
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "ADMIN",
        "STAFF",
        "TEACHER",
        "STUDENT",
        "GUARDIAN"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}